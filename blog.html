<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8" crossorigin="anonymous"></script>

        <!--linking css style sheet-->
        <link rel="stylesheet" href="style.css">
        <!--linking js sheet -->
        <script src="main.js"></script> 

        <!--word typing animation sourced by https://github.com/mattboldt/typed.js/-->
        <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

        <!--adding/linking Baloo font-->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Baloo+2&display=swap" rel="stylesheet">
        
        <!--tab title-->
        <title>Nadia's Thoughts</title>
        <style>
            .category {
                background-color:#EF3B46;
            }

            .category:hover {
                opacity: 0.8;
            }

            .blog-link {
                text-decoration: none;
                color: black;
            }
        </style>
    </head>
    <body>
        <!-- Nav Bar -->
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container-fluid">
              <a class="navbar-brand" href="#">
                <img src = "images/logo.gif" alt = "NS logo" width="200">
              </a>
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="story.html">My Story</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="experiences.html">Experiences</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="blog.html" tabindex="-1" aria-disabled="true">Blog</a>
                  </li>
                </ul>
              </div>
            </div>
        </nav>

        <!--Blog title-->
        <h1 class="text-center mb-4 blog-title">Blog ðŸ–Š</h1>
        <h2 class="text-center mt-4 categories-title">Categories</h2>

        <div class="container-sm">
            <div class="row categories-container">
            </div>
            <div class="row mt-2">
                <div class="col-12">
                    <button id="reset-category" onclick="resetCategory()" style="display: none">Reset</button>
                </div>
            </div>
            <div class="row blog-container mt-5">
            </div>
        </div>
    </body>
    <script>
        var categories = ['Entrepreneurship', 'Life', 'College', 'Professional', 'Networking', 'Sports'];
        var selectedCategory = null;

        function setSelectedCategory(category) {
            selectedCategory = category;
            document.getElementById('reset-category').style.display = 'block';
        }

        function resetCategory() {
            selectedCategory = null;
            initializeBlogs();
            document.getElementById('reset-category').style.display = 'none';
        }

        for (var i = 0; i < categories.length; i++) {
            var categoryItem = document.createElement('div');
            categoryItem.className = 'col-4 gy-4';
            var categoryButton = document.createElement('button');
            categoryButton.type = 'button';
            categoryButton.className = 'category border-0 fs-6 w-100 rounded text-center text-white py-4';
            categoryButton.innerHTML = categories[i];
            categoryButton.setAttribute("data-category", categories[i]);
            categoryButton.onclick = function () {
                setSelectedCategory(this.getAttribute("data-category"));
                initializeBlogs();
            }
            categoryItem.appendChild(categoryButton);
            document.querySelector('.categories-container').appendChild(categoryItem);
        }
        var blogs = [
            {
                title: "Everything happens for a reason",
                subtitle: "The crazy life motto I live by.",
                categories: ["Life"],
                href: "#",
            },
            {
                title: "The f*** it mentality",
                subtitle: "How to not live in fear.",
                categories: ["Life"],
                href: "#",
            },
            {
                title: "Don't be afraid to cold email",
                subtitle: "The perfect email.",
                categories: ["Professional"],
                href: "#",
            }
        ];
        function initializeBlogs() {
            document.querySelector('.blog-container').innerHTML = '';
            var blogsInCategory = [];

            if (!selectedCategory) {
                blogsInCategory = blogs;
            } else {
                for (var i = 0; i < blogs.length; i++) {
                    if (blogs[i].categories.indexOf(selectedCategory) > -1) {
                        blogsInCategory.push(blogs[i]);
                    }
                }
            }

            if (!blogsInCategory.length) {
                var blogTitle = document.createElement("p");
                blogTitle.className = "fs-3 fw-bold";
                blogTitle.innerHTML = "-";
                document.querySelector('.blog-container').appendChild(blogTitle);
            }

            for (var i = 0; i < blogsInCategory.length; i++) {
                var link = document.createElement("a");
                link.className = "col-12 blog-link";
                link.href = blogsInCategory[i].href;
                var blogTitle = document.createElement("p");
                blogTitle.className = "fs-3 fw-bold";
                blogTitle.innerHTML = blogsInCategory[i].title;
                var blogSubtitle = document.createElement("p");
                blogSubtitle.className = "fs-6";
                blogSubtitle.innerHTML = blogsInCategory[i].subtitle;
                link.append(blogTitle);
                link.append(blogSubtitle);
                document.querySelector('.blog-container').appendChild(link);
                if (i < blogs.length - 1) {
                    var blogDivider = document.createElement('hr');
                    blogDivider.className = 'blog-divider';
                    document.querySelector('.blog-container').appendChild(blogDivider);
                }
            }
        }
        initializeBlogs();
    </script>
</html>